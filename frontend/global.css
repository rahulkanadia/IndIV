/* RESET */
body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    background-color: #000;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    overflow: hidden; /* Prevent full page scroll */
}

/* MAIN LAYOUT CONTAINER */
.container {
    display: flex;
    /* Subtract Header Height (60px) from total viewport height */
    height: calc(100vh - 60px); 
    width: 100%;
    overflow: hidden;
}

/* --- LEFT PANEL (Main Dashboard) --- */
.left-panel {
    flex: 1; /* Takes remaining space (approx 70-75%) */
    display: flex;
    flex-direction: column;
    padding: 10px;
    gap: 10px;
    min-width: 0; /* CRITICAL: Prevents Plotly charts from forcing width issues */
    border-right: 1px solid #222;
}

/* Left Panel Internal Layout */
#weekly-grid-container, 
#monthly-grid-container {
    flex-shrink: 0; /* Prevent grids from shrinking */
    min-height: 50px; /* Ensure they have height even if empty */
}

#main-chart-dashboard {
    flex: 1; /* Chart takes all remaining vertical space */
    min-height: 0; /* Critical for vertical resizing */
    position: relative;
    border: 1px solid #222;
    border-radius: 4px;
    background: #121212;
}

/* --- RIGHT PANEL (Stats & Tables) --- */
.right-panel {
    width: 420px; /* Fixed width for stability */
    flex-shrink: 0; /* Prevent it from getting squashed */
    display: flex;
    flex-direction: column;
    padding: 10px;
    gap: 10px;
    background: #0a0a0a;
}

/* Right Panel Internal Layout */
.split-header {
    display: flex;
    gap: 10px;
    height: 160px; /* Fixed height for PCR & SD Table row */
    flex-shrink: 0;
}

.split-half {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
}

#pcr-container,
#sd-table-container {
    flex: 1;
    width: 100%;
    height: 100%;
}

#greeks-table-container {
    flex: 1; /* Takes remaining vertical space */
    min-height: 0;
    width: 100%;
}

/* --- HEADER UTILS --- */
.status-badge {
    font-size: 10px;
    color: #00E676;
    background: rgba(0, 230, 118, 0.1);
    padding: 4px 8px;
    border-radius: 12px;
    border: 1px solid rgba(0, 230, 118, 0.2);
    font-weight: 600;
}

.help-btn {
    text-decoration: none;
    color: #888;
    font-size: 12px;
    transition: color 0.2s;
}
.help-btn:hover { color: #fff; }
